{% extends "base.html" %}

{%- block page -%}

  {# Header global #}
  {%- block header %}
    {% include "header.html" %}
  {% endblock -%}

  {# Konten utama #}
  {%- block content %}
    {% block maintag %}<div class="bg-light py-4 main">{% endblock %}
      <div id="content" class="container">

        {% block main_content %}
          {# Flash message alerts #}
          {% block flash %}
            <div class="mb-3 flash-messages">
              {% block flash_inner %}
                {% for category, message in h.get_flashed_messages(with_categories=true) %}
                  <div class="alert alert-{{ category }} alert-dismissible fade show shadow-sm rounded-3">
                    {{ h.literal(message) }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                  </div>
                {% endfor %}
              {% endblock %}
            </div>
          {% endblock %}

          {# Breadcrumb #}
          {% block toolbar %}
            <nav class="mb-4 toolbar" aria-label="{{ _('Breadcrumb') }}">
              {% block breadcrumb %}
                {% if self.breadcrumb_content() | trim %}
                  <ol class="rounded breadcrumb">
                    {% snippet 'snippets/home_breadcrumb_item.html' %}
                    {% block breadcrumb_content %}{% endblock %}
                  </ol>
                {% endif %}
              {% endblock %}
            </nav>
          {% endblock %}

          {# Layout wrapper (sidebar + content) #}
          <div class="row g-4 wrapper{% block wrapper_class %}{% endblock %}{% if self.secondary()|trim == '' or c.action=='resource_read' %} no-nav{% endif %}" style="min-height: 350px;">

            {% block pre_primary %}{% endblock %}

            {# Sidebar #}
            {% block secondary %}
              <aside class="d-lg-block secondary col-lg-3 d-none" style="margin-top: unset;">
                    {% block secondary_content %}{% endblock %}
              </aside>
            {% endblock %}

            {# Main content #}
            {% block primary %}
              <div class="primary col-lg-9 col-12" role="main">
                {% block primary_content %}
                  <article class="shadow-sm rounded-3 card">
                    {% block page_header %}
                      <header class="bg-white border-bottom card-header">
                        {% if self.content_action() | trim %}
                          <div class="float-end content_action">
                            {% block content_action %}{% endblock %}
                          </div>
                        {% endif %}
                        <ul class="mt-2 nav nav-tabs card-header-tabs">
                          {% block content_primary_nav %}{% endblock %}
                        </ul>
                      </header>
                    {% endblock %}
                    <div class="card-body">
                      {% if self.page_primary_action() | trim %}
                        <div class="mb-3 page_primary_action">
                          {% block page_primary_action %}{% endblock %}
                        </div>
                      {% endif %}
                      {% block primary_content_inner %}{% endblock %}
                    </div>
                  </article>
                {% endblock %}
              </div>
            {% endblock %}
          </div>
        {% endblock %}
      </div>
    </div>
  {% endblock -%}

  {# Footer #}
  {%- block footer %}
    {% include "footer.html" %}
  {% endblock -%}

{%- endblock -%}

{%- block scripts %}
  {% asset 'base/main' %}
  {% asset 'base/ckan' %}
  {{ super() }}
{% endblock -%}
